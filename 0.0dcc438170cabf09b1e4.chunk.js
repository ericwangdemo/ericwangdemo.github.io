webpackJsonp([0],{m1B9:function(n,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=e("LMZF"),u=function(){},i=e("tM+F"),r=e("OylW"),a=e("KU+/"),o=e("c0x3"),s=e("HNiT"),c=e("vEzF"),d=e("6yhf"),p=e("Un6q"),f=function(){function n(){this.displayAllSummary=!1}return Object.defineProperty(n.prototype,"duration",{get:function(){var n=new Date(this.event.StartDateTime),t=new Date(this.event.EndDateTime);return n.getDay()<t.getDay()?n.getDate()+" "+(n.getMonth()+1)+" "+n.getFullYear():n},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"onTheSameDay",{get:function(){var n=new Date(this.event.StartDateTime),t=new Date(this.event.EndDateTime);return n.getDay()===t.getDay()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"ellipsisSummary",{get:function(){return this.event.Summary.length<=200?this.event.Summary:this.displayAllSummary?this.event.Summary:this.event.Summary.slice(0,200)+"..."},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"readMoreOrLessMessage",{get:function(){return this.displayAllSummary?"Display less":"Display more"},enumerable:!0,configurable:!0}),n.prototype.moreThanLimitation=function(n){return n.length>=200},n.prototype.toggleDisplayAll=function(){this.displayAllSummary=!this.displayAllSummary},n}(),h=l._2({encapsulation:0,styles:[[".card[_ngcontent-%COMP%]{width:100%;height:100%}.card-body[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.card-body[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:1.5em}.card-summary[_ngcontent-%COMP%]{margin-bottom:auto}p[_ngcontent-%COMP%]{margin-bottom:5px}span[_ngcontent-%COMP%]{-ms-flex-item-align:end;align-self:flex-end}span[_ngcontent-%COMP%]:hover{cursor:pointer}.btn-register[_ngcontent-%COMP%]{-ms-flex-item-align:start;align-self:flex-start}"]],data:{}});function _(n){return l._26(0,[(n()(),l._4(0,0,null,null,2,"p",[],null,null,null,null,null)),(n()(),l._24(1,null,["",""])),l._21(2,2)],null,function(n,t){var e=t.component;n(t,1,0,l._25(t,1,0,n(t,2,0,l._17(t.parent.parent,0),e.duration,"EEEE, d MMMM y")))})}function m(n){return l._26(0,[(n()(),l._4(0,0,null,null,3,"p",[],null,null,null,null,null)),(n()(),l._24(1,null,[""," - ",""])),l._21(2,2),l._21(3,2)],null,function(n,t){var e=t.component;n(t,1,0,l._25(t,1,0,n(t,2,0,l._17(t.parent.parent,0),e.event.StartDateTime,"EEEE, d MMMM y")),l._25(t,1,1,n(t,3,0,l._17(t.parent.parent,0),e.event.EndDateTime,"EEEE, d MMMM y")))})}function v(n){return l._26(0,[(n()(),l._4(0,0,null,null,1,"span",[["class","badge badge-info"]],null,[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.toggleDisplayAll()&&l),l},null,null)),(n()(),l._24(1,null,["",""]))],null,function(n,t){n(t,1,0,t.component.readMoreOrLessMessage)})}function g(n){return l._26(0,[(n()(),l._4(0,0,null,null,31,"div",[["class","card"],["style","width: 18rem;"]],null,null,null,null,null)),(n()(),l._24(-1,null,["\n  "])),(n()(),l._4(2,0,null,null,28,"div",[["class","card-body"]],null,null,null,null,null)),(n()(),l._24(-1,null,["\n    "])),(n()(),l._4(4,0,null,null,1,"a",[["class","card-title"],["target","_blank"]],[[8,"href",4]],null,null,null,null)),(n()(),l._24(5,null,["",""])),(n()(),l._24(-1,null,["\n    "])),(n()(),l.Z(16777216,null,null,1,null,_)),l._3(8,16384,null,0,p.k,[l.N,l.K],{ngIf:[0,"ngIf"]},null),(n()(),l._24(-1,null,["\n    "])),(n()(),l.Z(16777216,null,null,1,null,m)),l._3(11,16384,null,0,p.k,[l.N,l.K],{ngIf:[0,"ngIf"]},null),(n()(),l._24(-1,null,["\n    "])),(n()(),l._4(13,0,null,null,1,"p",[],null,null,null,null,null)),(n()(),l._24(14,null,["",""])),(n()(),l._24(-1,null,["\n    "])),(n()(),l._4(16,0,null,null,4,"p",[["class","card-text"]],null,null,null,null,null)),(n()(),l._24(-1,null,["\n      "])),(n()(),l._4(18,0,null,null,1,"b",[],null,null,null,null,null)),(n()(),l._24(19,null,["",""])),(n()(),l._24(-1,null,["\n    "])),(n()(),l._24(-1,null,["\n    "])),(n()(),l._4(22,0,null,null,1,"p",[["class","card-text card-summary"]],null,null,null,null,null)),(n()(),l._24(23,null,[""," "])),(n()(),l._24(-1,null,["\n    "])),(n()(),l.Z(16777216,null,null,1,null,v)),l._3(26,16384,null,0,p.k,[l.N,l.K],{ngIf:[0,"ngIf"]},null),(n()(),l._24(-1,null,["\n    "])),(n()(),l._4(28,0,null,null,1,"a",[["class","btn btn-primary btn-register"],["target","_blank"]],[[8,"href",4]],null,null,null,null)),(n()(),l._24(-1,null,["Register"])),(n()(),l._24(-1,null,["\n  "])),(n()(),l._24(-1,null,["\n"]))],function(n,t){var e=t.component;n(t,8,0,e.onTheSameDay),n(t,11,0,!e.onTheSameDay),n(t,26,0,e.moreThanLimitation(e.event.Summary))},function(n,t){var e=t.component;n(t,4,0,l._7(1,"",e.event.ViewUri,"")),n(t,5,0,e.event.Name),n(t,14,0,e.event.SessionsDescription),n(t,19,0,e.event.Location.Name),n(t,23,0,e.ellipsisSummary),n(t,28,0,l._7(1,"",e.event.RegistrationInfo.RegisterUri,""))})}function y(n){return l._26(0,[l._19(0,p.e,[l.s]),(n()(),l.Z(16777216,null,null,1,null,g)),l._3(2,16384,null,0,p.k,[l.N,l.K],{ngIf:[0,"ngIf"]},null)],function(n,t){n(t,2,0,t.component.event)},null)}var b=function(){},O=l._2({encapsulation:0,styles:[["app-event-card[_ngcontent-%COMP%]{margin:5px}"]],data:{}});function M(n){return l._26(0,[(n()(),l._4(0,0,null,null,1,"app-event-card",[],null,null,null,y,h)),l._3(1,49152,null,0,f,[],{event:[0,"event"]},null)],function(n,t){n(t,1,0,t.context.$implicit)},null)}function j(n){return l._26(0,[(n()(),l.Z(16777216,null,null,1,null,M)),l._3(1,802816,null,0,p.j,[l.N,l.K,l.q],{ngForOf:[0,"ngForOf"]},null)],function(n,t){n(t,1,0,t.component.events)},null)}var w=e("ADVA");function S(n){return function(t,e){var l={ids:e.ids.slice(),entities:Object.assign({},e.entities)};return n(t,l)?Object.assign({},e,l):e}}function D(n){function t(t,e){var l=n(t);return!(l in e.entities||(e.ids.push(l),e.entities[l]=t,0))}function e(n,e){var l=!1;for(var u in n)l=t(n[u],e)||l;return l}function l(n,t){var e=n.filter(function(n){return n in t.entities}).map(function(n){return delete t.entities[n]}).length>0;return e&&(t.ids=t.ids.filter(function(n){return n in t.entities})),e}function u(t,e){var l={},u=t.filter(function(n){return n.id in e.entities}).map(function(t){return u=l,i=t,r=e,a=Object.assign({},r.entities[i.id],i.changes),(o=n(a))!==i.id&&(u[i.id]=o,delete r.entities[i.id]),void(r.entities[o]=a);var u,i,r,a,o}).length>0;return u&&(e.ids=e.ids.map(function(n){return l[n]||n})),u}return{removeAll:function(n){return Object.assign({},n,{ids:[],entities:{}})},addOne:S(t),addMany:S(e),addAll:S(function(n,t){return t.ids=[],t.entities={},e(n,t),!0}),updateOne:S(function(n,t){return u([n],t)}),updateMany:S(u),removeOne:S(function(n,t){return l([n],t)}),removeMany:S(l)}}var T="[Event] Load",E="[Event] Load Success",x="[Event] Load More",I="[Event] Load More Success",k="[Event] Load Fail",P=function(){return function(){this.type=T}}(),A=function(){return function(n){this.payload=n,this.type=E}}(),C=function(){return function(n){this.payload=n,this.type=x}}(),L=function(){return function(n){this.payload=n,this.type=I}}(),N=function(){return function(n){this.payload=n,this.type=k}}(),$=this&&this.__assign||Object.assign||function(n){for(var t,e=1,l=arguments.length;e<l;e++){t=arguments[e];for(var u in t)Object.prototype.hasOwnProperty.call(t,u)&&(n[u]=t[u])}return n},K=function(n){void 0===n&&(n={});var t=Object.assign({sortComparer:!1,selectId:function(n){return n.id}},n),e=t.selectId,l=t.sortComparer,u={getInitialState:function(n){return void 0===n&&(n={}),Object.assign({ids:[],entities:{}},n)}},i={getSelectors:function(n){var t=function(n){return n.ids},e=function(n){return n.entities},l=Object(w.G)(t,e,function(n,t){return n.map(function(n){return t[n]})}),u=Object(w.G)(t,function(n){return n.length});return n?{selectIds:Object(w.G)(n,t),selectEntities:Object(w.G)(n,e),selectAll:Object(w.G)(n,l),selectTotal:Object(w.G)(n,u)}:{selectIds:t,selectEntities:e,selectAll:l,selectTotal:u}}},r=l?function(n,t){var e=D(n);function l(t,e){return i(t.filter(function(t){return!(n(t)in e.entities)}),e)}function u(n,t){var e=[];return n.forEach(function(n){return function(n,t,e){if(t.id in e.entities){var l=Object.assign({},e.entities[t.id],t.changes);delete e.entities[t.id],n.push(l)}}(e,n,t)}),e.length&&(t.ids=t.ids.filter(function(n){return n in t.entities})),i(e,t)}function i(e,l){if(0===e.length)return!1;e.sort(t);for(var u=[],i=0,r=0;i<e.length&&r<l.ids.length;){var a=e[i],o=n(a),s=l.ids[r];t(a,l.entities[s])<=0?(u.push(o),i++):(u.push(s),r++)}return l.ids=u.concat(i<e.length?e.slice(i).map(n):l.ids.slice(r)),e.forEach(function(t,e){l.entities[n(t)]=t}),!0}return{removeOne:e.removeOne,removeMany:e.removeMany,removeAll:e.removeAll,addOne:S(function(n,t){return l([n],t)}),updateOne:S(function(n,t){return u([n],t)}),addAll:S(function(n,t){return t.entities={},t.ids=[],l(n,t),!0}),addMany:S(l),updateMany:S(u)}}(e,l):D(e);return Object.assign({},u,i,r)}({selectId:function(n){return n.EventID},sortComparer:!1}),Z=K.getInitialState({loading:!1});function G(n,t){switch(void 0===n&&(n=Z),t.type){case T:case x:return $({},n,{loading:!0});case E:return $({},K.addAll(t.payload,n),{loading:!1});case I:return $({},K.addMany(t.payload,n),{loading:!1});case k:return $({},K.removeAll(n),{loading:!1});default:return n}}var V,F=Object(w.E)("events"),U=Object(w.G)(F,function(n){return n.events}),z=(V=K.getSelectors(U)).selectAll,R=V.selectTotal,B=Object(w.G)(U,function(n){return n.loading}),H=function(){function n(n){this.store=n,this.skip=0,this.events$=n.select(z),this.loading$=n.select(B),this.totalCounts$=n.select(R)}return n.prototype.ngOnInit=function(){this.store.dispatch(new P)},n.prototype.loadMore=function(){this.skip+=10,this.store.dispatch(new C(this.skip))},n}(),W=l._2({encapsulation:0,styles:[["app-events-container[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap}button[_ngcontent-%COMP%]:hover{cursor:pointer}"]],data:{}});function q(n){return l._26(0,[(n()(),l._4(0,0,null,null,1,"b",[],null,null,null,null,null)),(n()(),l._24(-1,null,["Loading..."]))],null,null)}function Y(n){return l._26(0,[(n()(),l._4(0,0,null,null,1,"button",[["class","btn btn-primary"]],null,[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.loadMore()&&l),l},null,null)),(n()(),l._24(-1,null,["Load More"]))],null,null)}function X(n){return l._26(0,[(n()(),l._4(0,0,null,null,2,"app-events-container",[],null,null,null,j,O)),l._3(1,49152,null,0,b,[],{events:[0,"events"]},null),l._19(131072,p.b,[l.h]),(n()(),l._24(-1,null,["\n"])),(n()(),l.Z(16777216,null,null,2,null,q)),l._3(5,16384,null,0,p.k,[l.N,l.K],{ngIf:[0,"ngIf"]},null),l._19(131072,p.b,[l.h]),(n()(),l._24(-1,null,["\n"])),(n()(),l.Z(16777216,null,null,2,null,Y)),l._3(9,16384,null,0,p.k,[l.N,l.K],{ngIf:[0,"ngIf"]},null),l._19(131072,p.b,[l.h])],function(n,t){var e=t.component;n(t,1,0,l._25(t,1,0,l._17(t,2).transform(e.events$))),n(t,5,0,l._25(t,5,0,l._17(t,6).transform(e.loading$))),n(t,9,0,l._25(t,9,0,l._17(t,10).transform(e.totalCounts$))>=e.skip+10)},null)}var J=l._0("app-event-page",H,function(n){return l._26(0,[(n()(),l._4(0,0,null,null,1,"app-event-page",[],null,null,null,X,W)),l._3(1,114688,null,0,H,[w.o],null,null)],function(n,t){n(t,1,0)},null)},{},{},[]),Q=e("0nO6"),nn=e("dN2u"),tn=e("KRwK"),en=e("Zz+K"),ln=e("wnyu"),un=e("tzcA"),rn=e("2waW"),an=e("PY9B"),on=e("IBeK"),sn=e("g5gQ"),cn=e("xBEz"),dn=e("PuIS"),pn=e("U0Tu"),fn=e("3rU7"),hn=e("Cb36"),_n=e("5h8W"),mn=e("6ade"),vn=e("4HaF"),gn=e("DaIH"),yn=e("0WLp"),bn=e("UHIZ"),On=e("TMwh"),Mn=function(){function n(n){this.http=n}return n.prototype.load=function(n){return void 0===n&&(n=0),this.http.get("https://theme-test.arlo.co/api/2012-02-01/pub/resources/eventsearch/?format=json&top=10&fields=EventId,Name,StartDateTime,EndDateTime,ViewUri,Summary,TimeZone,SessionsDescription,RegistrationInfo,Location&skip="+n,this.jwt()).map(function(n){return n.json().Items})},n.prototype.jwt=function(){var n=new On.d({"Content-Type":"application/json"});return new On.g({headers:n})},n}(),jn=e("6Xbx"),wn=e("AP4T"),Sn=e("D62v");wn.a.prototype.catch=Sn.a,wn.a.prototype._catch=Sn.a;var Dn=e("dmC+");wn.a.prototype.map=Dn.a;var Tn=e("GpNi");wn.a.prototype.switchMap=Tn.a;var En=e("GTlS"),xn=new(e("wclm").a)(En.a),In=e("E9/g"),kn=function(){function n(n,t){this.dueTime=n,this.scheduler=t}return n.prototype.call=function(n,t){return t.subscribe(new Pn(n,this.dueTime,this.scheduler))},n}(),Pn=function(n){function t(t,e,l){n.call(this,t),this.dueTime=e,this.scheduler=l,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}return Object(jn.c)(t,n),t.prototype._next=function(n){this.clearDebounce(),this.lastValue=n,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(An,this.dueTime,this))},t.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},t.prototype.debouncedNext=function(){this.clearDebounce(),this.hasValue&&(this.destination.next(this.lastValue),this.lastValue=null,this.hasValue=!1)},t.prototype.clearDebounce=function(){var n=this.debouncedSubscription;null!==n&&(this.remove(n),n.unsubscribe(),this.debouncedSubscription=null)},t}(In.a);function An(n){n.debouncedNext()}wn.a.prototype.debounceTime=function(n,t){return void 0===t&&(t=xn),(e=n,void 0===(l=t)&&(l=xn),function(n){return n.lift(new kn(e,l))})(this);var e,l};var Cn=e("Tl+Y"),Ln=e("GZB0"),Nn=new l.o("Load Debounce"),$n=new l.o("Load Scheduler"),Kn=function(){function n(n,t,e,l){var u=this;this.actions$=n,this.eventService=t,this.debounce=e,this.scheduler=l,this.load$=this.actions$.ofType(T).debounceTime(this.debounce||300,this.scheduler||xn).switchMap(function(){return u.eventService.load().map(function(n){return new A(n)}).catch(function(n){return Object(Ln.a)(new N(n))})}),this.loadMore$=this.actions$.ofType(x).debounceTime(this.debounce||300,this.scheduler||xn).switchMap(function(n){return u.eventService.load(n.payload).map(function(n){return new L(n)}).catch(function(n){return Object(Ln.a)(new N(n))})})}return Object(jn.b)([Object(Cn.b)(),Object(jn.d)("design:type",wn.a)],n.prototype,"load$",void 0),Object(jn.b)([Object(Cn.b)(),Object(jn.d)("design:type",wn.a)],n.prototype,"loadMore$",void 0),n}();e.d(t,"EventPageModuleNgFactory",function(){return Zn});var Zn=l._1(u,[],function(n){return l._13([l._14(512,l.j,l.X,[[8,[i.a,r.a,a.a,o.a,s.a,c.a,d.a,J]],[3,l.j],l.v]),l._14(4608,p.m,p.l,[l.s,[2,p.r]]),l._14(4608,Q.f,Q.f,[]),l._14(4608,nn.a,nn.a,[l.j,l.p,tn.a]),l._14(512,p.c,p.c,[]),l._14(512,Q.e,Q.e,[]),l._14(512,Q.a,Q.a,[]),l._14(512,en.a,en.a,[]),l._14(512,ln.a,ln.a,[]),l._14(512,un.a,un.a,[]),l._14(512,rn.a,rn.a,[]),l._14(512,an.a,an.a,[]),l._14(512,on.a,on.a,[]),l._14(512,sn.a,sn.a,[]),l._14(512,cn.a,cn.a,[]),l._14(512,dn.a,dn.a,[]),l._14(512,pn.a,pn.a,[]),l._14(512,fn.a,fn.a,[]),l._14(512,hn.a,hn.a,[]),l._14(512,_n.a,_n.a,[]),l._14(512,mn.a,mn.a,[]),l._14(512,vn.a,vn.a,[]),l._14(512,gn.a,gn.a,[]),l._14(512,yn.a,yn.a,[]),l._14(512,bn.n,bn.n,[[2,bn.t],[2,bn.m]]),l._14(1024,w.k,function(){return[{key:"events",reducerFactory:w.C,metaReducers:[],initialState:void 0}]},[]),l._14(1024,w.t,function(){return[{events:G}]},[]),l._14(1024,w.u,function(n){return[n]},[w.t]),l._14(1024,w.b,function(n,t,e){return[w.z(n,t,e)]},[l.p,w.t,w.u]),l._14(131584,w.p,w.p,[w.k,w.b,w.h]),l._14(512,Mn,Mn,[On.e]),l._14(512,Kn,Kn,[Cn.a,Mn,[2,Nn],[2,$n]]),l._14(1024,Cn.i,function(n){return[Cn.d(n)]},[Kn]),l._14(512,Cn.g,Cn.g,[Cn.f,Cn.i,[2,w.q]]),l._14(512,u,u,[]),l._14(1024,bn.k,function(){return[[{path:"",component:H}]]},[])])})}});